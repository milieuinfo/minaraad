Notes on Minaraad migration Plone 4.3.6 (january 2016)
======================================================

Pre upgrade
===========

Download subsribers to newsletter
---------------------------------

Go to the minaraad controlpanel/subscribers_config and export all
subscriber groups to csv's.


Upgrade
=======


Post upgrade
============

Hide Viewlet: plone.belowcontentbody.relateditems
-------------------------------------------------

TODO: Handle this in upgrade step.
Go to: http://localhost:8080/minaraad/@@manage-viewlets
Hide plone.belowcontentbody.relateditems


Rebuild the date indexes
------------------------

During development we got `POSKeyError: 0x68b743` erros.

Go to: http://localhost:8080/minaraad/portal_catalog/manage_catalogIndexes?skey=meta_type&rkey=meta_type
Select all date related. Choose `Clear index`
Select all date related. Choose `Reindex`


Configure Faceted navigation
----------------------------

 - Go to 'Documenten' folder.
 - Choose 'Acties' > 'Schakel facetnavigatie'
 - Choose 'Facet criteria' > 'Importeren'
 - Upload faceted_criteria.xml (xml file lives in project root)


Newsletter migration
--------------------

  1. Setup a mailchimp account for minaraad.
  2. Import the subscribers to mailchimp. Go to the lists tab in mailchimp.
     Chose import from dropdown.
  3. In the minaraad controlpanel/mailchimp add the API key found in
     mailchimp/account/extra/api-keys.
  4. TODO: Add mailchimp portlets to the site at preferred locations. (in a upgradestep)


Uninstall `Plone Klassiek Thema 1.3.3`
--------------------------------------

Just cleanup. We do not need classic theme anymore.

 1. Go to /prefs_install_products_form.
 2. Select `Plone Klassiek Thema 1.3.3`
 3. Click uninstall.


Install and configure embedly
-----------------------------

 1. Go to http://localhost:8080/minaraad/prefs_install_products_form and install embedly.
 2. Get an API key from embedly. Register an account with them as needed.
 3. Go to http://localhost:8080/minaraad/@@embedly-controlpanel and supply API key.


Errors
======

WARNING OFS.Uninstalled Could not import class 'CSCachingPolicyManager'
from module 'Products.CacheSetup.content.caching_policy_manager'

 - Tried to install `Products.CacheSetup` but got me other errors.
 - Tried to run `Products.CacheSetup` uninstall handler.
   That didn't resolve the issue.
 - Tried to delete `caching_policy_manager` from ZMI.

Status: open. I'll leave it. It doesn't seem to harm.
