

Upgrade to Plone 2.5 for Minaraad
=================================

1. Install program files to filesystem. Make sure all the steps in INSTALL.txt
   are followed (there are changed dependencies and additional steps from the
   earlier version.)

2. MAKE A BACKUP OF YOUR DATAFS.

2. Start Zope

3. Enter the portel in the ZMI as admin, and do the Plone upgrade

   The following steps summarize the generics of Plone upgrade. There is nothing
   specifics in the procedure. IF YOU DON'T UNDERSTAND THE INSTRUCTIONS,
   ASK FOR HELP.

   - go to portal_migration, "Migrate" tab. Press "Upgrade" button.
     This will take long.

   - go to portal_atct, "Version migrate" tab. Press "Upgrade" button.

   - go to portal_atct, "Image scale" tab. Press "Recreate" button.

   - go to portal_atct, "Type migration" tab. Press "Migrate" button. Also press the
     buttons for "Fix portal type name" and "Fix missing portal type".

   - go to portal_atct, "Recatalog" tab. Press "Recatalog CMF types" 
     and "Recatalog ATCT types". Don't change the checkboxes.

4. Install/Reinstall all products in the portal

   - Go to portal_quickinstaller in the ZMI, Install tab. If you see any of
     the products listed in INSTALL.txt as yet uninstalled, install them. 
	 (Except intellitext, you don't need to install.) TextIndexNG3 is mandatory.

   - Same place, if any of the product version need to be reinstalled, select
     them and press Reinstall. (Do not Uninstall anything!)
	 TextIndexNG3 cannot be reinstalled and must be left intact if if shows
	 an installed version different from the current one. This is a bug in TXNG
	 but is not important for us.

5. Upgrade Minaraad content indexes

   - Run the script minaraad_txng_fix_indexes (by entering it into the url
     field after the portal root url). This will take long. It will fix a 
	 cataloging bug done by the plone migration process done above.

	 If you miss this step, you can repeat it any time later. Without this
	 the search will not work properly.

