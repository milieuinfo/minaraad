<div class="faceted-widget faceted-year-widget" style="display: none"
     i18n:domain="eea" tal:define="
  error_view nocall:context/@@faceted.widget.error;
  wid python:view.data.getId();
  hidden python:view.hidden;
  this_year python:view.this_year;
  hidezerocount python:view.hidezerocount;
  sortcountable python:view.sortcountable;
  css string:faceted-widget ${view/css_class};
  css python:hidden and css + ' faceted-widget-hidden' or css;
  css python:view.countable and css + ' faceted-count' or css;
  css python:hidezerocount and css + ' faceted-zero-count-hidden' or css;
  css python:sortcountable and css + ' faceted-sortcountable' or css;
  maxitems python:view.data.get('maxitems', 0) or 0;"
  tal:attributes="id string:${wid}_widget; class css">

<fieldset class="widget-fieldset">
<legend tal:define="title python:view.data.get('title', '')" tal:content="
  python:view.translate(title)" i18n:translate="">Year widget</legend>

<form action="." method="get" class="faceted-year-widget-form"
  tal:on-error="structure python:error_view(error=error, cid=wid)">
  <div tal:attributes="id string:${wid}_year;">
    <ul>
      <tal:items repeat="year view/years">
        <li tal:define="term_id year;
                        term_label year;
                        term_label year;
                        chbox_id string:${wid}_${term_id};
                        chbox_id python:view.cleanup(chbox_id);
                        option_id string:${wid}_option_${term_id};"
            tal:attributes="id option_id"
            >
          <input type="checkbox" class="faceted-noborder" tal:attributes="checked python:year == this_year;
                                                                          name string:${wid};
                                                                          id chbox_id;
                                                                          title term_label;
                                                                          value term_id;" />
          <label tal:attributes="for chbox_id; title term_label"
                 tal:content="term_label">term label</label>
        </li>
      </tal:items>
    </ul>
  </div>
  <div tal:attributes="id string:${wid}_errors"></div>
</form>

</fieldset>
</div>
